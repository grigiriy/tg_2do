<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ToDoList</title>
</head>

<body>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <div id="app"></div>
  <script>
    // Wait for the script to load and initialize
    window.onload = () => {
      const tg = window.Telegram.WebApp; // Telegram WebApp object

      // Log the full user data and session details
      console.log(tg.initDataUnsafe);

      // Get the current theme
      const theme = tg.colorScheme;

      // Apply the theme to the body or specific elements
      if (theme === "dark") {
        document.body.classList.add("dark-theme");
      } else {
        document.body.classList.remove("dark-theme");
      }

      // Access specific user information
      const user = tg.initDataUnsafe?.user; // User object, if available
      if (user) {
        console.log("User ID:", user.id); // Log the user ID
        console.log("User First Name:", user.first_name); // User's first name
        console.log("User Last Name:", user.last_name); // User's last name
        console.log("User Username:", user.username); // User's username
      } else {
        console.log("User data is not available.");
      }
    };
  </script>
  <script type="module" src="/src/main.ts"></script>
</body>

</html>